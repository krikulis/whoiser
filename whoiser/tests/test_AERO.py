import unittest
from servers.AERO import WhoisQuery

class TestAERO(unittest.TestCase):
    def setUp(self):
        self.query = WhoisQuery()
    def test_available(self):
        """ test available .aero domain name """
        response = self.query.query("whois.aero")
        expected = {'Tech Email': ['werner.staub@corenic.org'], 'Billing Postal Code': ['CH-1216'], 'Admin Organization': ['SITA SC'], 'Admin ID': ['C223523-AERO'], 'Billing Name': ['.aero Office'], 'Billing Country': ['CH'], 'modify existing registrations. All rights reserved. Afilias reserves': [''], 'enable, or otherwise support the transmission by e-mail, telephone, or': [''], 'you agree to abide by this policy.': [''], 'Billing Phone': ['+41.227476000'], 'Registrant Email': ['aero.enquiries@sita.aero'], 'Expires On': ['05-Apr-2013 16:00:40 UTC'], 'Tech Name': ['Werner Staub'], 'Billing FAX Ext.': [''], 'Registrant ID': ['C223523-AERO'], 'Afilias registry database. The data in this record is provided by': [''], 'Billing Organization': ['SITA SC'], 'Maintainer': ['http://www.sita.aero'], 'Created On': ['05-Apr-2002 15:00:40 UTC'], 'Domain Name': ['WHOIS.AERO'], 'Registrant Street2': [''], 'Registrant Street3': [''], 'Registrant Street1': ['26 chemin de Joinville'], 'Registrant Name': ['.aero Office'], 'Registrant FAX': ['+41.227476333'], 'Tech Organization': ['CORE Internet Council of Registrars'], 'Billing State/Province': ['GE'], 'Admin Name': ['.aero Office'], 'guarantee its accuracy.  This service is intended only for query-based': [''], 'Tech ID': ['C223858-AERO'], 'Tech Postal Code': ['CH-1215'], 'Admin Street3': [''], 'Admin Street2': [''], 'Admin Street1': ['26 chemin de Joinville'], 'Admin Email': ['aero.enquiries@sita.aero'], 'Tech Phone': ['+41.229295744'], 'Created By': ['SITA (9999)'], 'Admin FAX': ['+41.227476333'], 'Tech City': ['Geneva'], 'Name Server': ['NS1.AMS1.AFILIAS-NST.INFO', 'NS1.HKG1.AFILIAS-NST.INFO', 'NS1.MIA1.AFILIAS-NST.INFO', 'NS1.SEA1.AFILIAS-NST.INFO', 'NS1.YYZ1.AFILIAS-NST.INFO', '', '', '', '', '', '', '', ''], 'access. You agree that you will use this data only for lawful purposes': [''], 'Tech Street3': [''], 'Tech Street2': [''], 'Tech Street1': ['29 route de Pre-Bois'], 'Admin FAX Ext.': [''], 'Registrant Organization': ['SITA SC'], 'Billing Phone Ext.': [''], '\n': [''], 'Access to .AERO WHOIS information is provided to assist persons in': [''], 'Admin City': ['Geneva'], 'Afilias Limited for informational purposes only, and Afilias does not': [''], "to entities other than the data recipient's own existing customers; or": [''], 'and that, under no circumstances will you use this data to': ['(a) allow,'], 'Updated By': ['Afilias Internal (984)'], 'Admin Postal Code': ['CH-1216'], 'Admin State/Province': ['GE'], 'Admin Phone Ext.': [''], 'Afilias except as reasonably necessary to register domain names or': [''], 'Domain ID': ['D322-AERO'], 'Registrant Phone': ['+41.227476000'], '(b) enable high volume, automated, electronic processes that send': [''], 'Registrant State/Province': ['GE'], 'Domain Status': ['OK'], 'Registrant FAX Ext.': [''], 'Tech Phone Ext.': [''], 'ENS_AuthId': ['E00001-SITA'], 'Tech State/Province': ['GE'], 'queries or data to the systems of Registry Operator, a Registrar, or': [''], 'Updated On': ['06-Apr-2012 06:35:02 UTC'], 'Registrant Postal Code': ['CH-1216'], 'Admin Country': ['CH'], 'Registrant Phone Ext.': [''], 'Sponsoring Registrar': ['SITA (9999)'], 'Billing Street1': ['26 chemin de Joinville'], 'Billing Street3': [''], 'Billing Street2': [''], 'Billing ID': ['C223523-AERO'], 'Tech Country': ['CH'], 'Tech FAX Ext.': [''], 'Tech FAX': ['+41.229295743'], 'determining the contents of a domain name registration record in the': [''], 'Registrant Country': ['CH'], 'Admin Phone': ['+41.227476000'], 'Billing Email': ['aero.enquiries@sita.aero'], 'the right to modify these terms at any time. By submitting this query,': [''], 'Registrant City': ['Geneva'], 'Billing City': ['Geneva'], 'facsimile of mass unsolicited, commercial advertising or solicitations': [''], 'Billing FAX': ['+41.227476333']}
        
        self.assertEqual(self.query.available, True)
        self.assertEqual(response, expected) 
    def test_unavailable(self):
        """ test unavailable .ae domain name """ 
        response = self.query.query("kristaps.aero")
        self.assertEqual(self.query.available, False)
